
# 🧭 Genesys Cloud Admin Tools Framework

A modular, auto-updating toolkit for Genesys Cloud administrators, powered by **Tampermonkey** and **GitHub**.

This framework lets you launch, manage, and update automation tools (like **Phone Site Migrator**, **Interaction Priority Updater**, etc.) from a single unified panel — with offline caching, full logging, and local override support for development.

---

## 🧱 Project Structure

```

genesyscloudtools/
├── core.js                 ← Tampermonkey bootstrap (install once)
├── launcher.js             ← Unified launcher UI (auto-loaded)
├── manifest.json           ← Auto-generated by GitHub Actions
├── modules/
│   ├── phoneSiteMigrator.js
│   ├── priorityUpdater.js
│   └── (future tools)
└── .github/workflows/
└── update-manifest.yml  ← Auto-generates manifest.json

```

---

## ⚙️ Installation

1. **Install [Tampermonkey](https://www.tampermonkey.net/)** in Chrome or Edge.  
2. Open the Tampermonkey dashboard → **“Create a new script”**.  
3. Paste the contents of [`core.js`](./genesyscloudtools/core.js).  
4. Click **Save (Ctrl + S)**.  
5. Load your Genesys Cloud environment (e.g. `https://apps.usw2.pure.cloud`) — the launcher appears after ~3 seconds.

---

## 🧩 How It Works

| Component | Description |
|------------|-------------|
| **core.js** | Loads the manifest from GitHub, injects the launcher and all tools dynamically. |
| **launcher.js** | Displays a floating panel with all available tools. |
| **modules/** | Each `.js` file represents an independent tool (e.g. Priority Updater). |
| **manifest.json** | Auto-generated list of modules for the core loader. |
| **GitHub Action** | Keeps the manifest automatically in sync with the modules folder. |

### Load Order
```

core.js  →  launcher.js  →  modules/*.js

```

---

## 🚀 Using the Tools

1. After the launcher loads, a floating panel appears in the bottom-right corner:  

```

⚙️ Genesys Cloud Admin Tools
[Select a Tool ▼]
[Launch Tool]

```

2. Choose a tool (e.g. “Phone Site Migrator”) → **Launch Tool**.  
3. Each tool opens its own mini-panel with the relevant UI (Dry Run, Progress Bar, etc.).

---

## 🧠 Logging and Audit Files

All tools log actions and errors to both the **browser console** and downloadable files:

| File | Description |
|-------|-------------|
| `.log` | Text log with timestamps, run summary, and full error text. |
| `.csv` | Structured output (timestamps, results, messages). |

Example filenames:
```

myOrg_phoneMigration_live_20251015_1430.log
myOrg_priorityUpdate_dryrun_20251015_1430.csv

````

### Viewing Logs
* Open **DevTools → Console** for live logs.  
* Log and CSV auto-download to your **Downloads** folder.  
* The last run’s logs are also stored in memory:
  ```js
  window.lastGcLog
````

---

## 💾 Caching & Offline Mode

Every tool loaded from GitHub is cached in the browser’s `localStorage`.

| Scenario              | Behavior                                        |
| --------------------- | ----------------------------------------------- |
| Online                | Always fetches the newest version from GitHub.  |
| Offline / GitHub down | Falls back to the cached version automatically. |

### Clear cache manually

```js
gcAdminTools.clearCache();
```

---

## 🧩 Local Module Development (Overrides)

You can test new or modified modules **locally** without committing to GitHub.

### Example

1. Save your dev file, e.g.
   `C:\GenesysCloudTools\dev\priorityUpdater.js`
2. In the browser console:

   ```js
   gcAdminTools.setLocalOverride(
     "priorityUpdater.js",
     "file:///C:/GenesysCloudTools/dev/priorityUpdater.js"
   );
   ```
3. Refresh the page — the local module loads automatically.
4. The launcher shows a green **[LOCAL]** badge next to overridden tools.

### View or remove overrides

```js
gcAdminTools.getOverrides();   // list active overrides
gcAdminTools.clearOverrides(); // remove all overrides
```

**Notes**

* Enable **“Allow access to file URLs”** for Tampermonkey in browser settings.
* Overrides persist until cleared.

---

## 🔧 Developer Utilities (console)

| Command                                     | Description                       |
| ------------------------------------------- | --------------------------------- |
| `gcAdminTools.listCache()`                  | Lists cached modules.             |
| `gcAdminTools.clearCache()`                 | Clears all cached Git modules.    |
| `gcAdminTools.getOverrides()`               | Shows active local overrides.     |
| `gcAdminTools.clearOverrides()`             | Clears all overrides.             |
| `gcAdminTools.setLocalOverride(file, path)` | Adds or updates a local override. |

---

## 🧱 GitHub Action — Auto Manifest Sync

`.github/workflows/update-manifest.yml` runs on every push:

* Scans `/modules/` for `.js` files
* Rebuilds `manifest.json`
* Commits and pushes changes automatically

You never need to edit `manifest.json` manually.

---

## ✅ Summary of Key Features

| Feature            | Description                                             |
| ------------------ | ------------------------------------------------------- |
| 🔄 Auto-updating   | Always loads the latest tools from GitHub.              |
| 💾 Caching         | Falls back to local cache if offline.                   |
| 🧪 Dry Run         | Built into every tool by convention.                    |
| 🧩 Modular         | Add new tools by committing a `.js` file.               |
| 🪵 Logging         | Generates detailed `.log` + `.csv` files.               |
| 🧠 Local Overrides | Test local tools instantly (shows green [LOCAL] badge). |

---

## 🧭 Example Workflow

| Step | Action                         | Outcome                                           |
| ---- | ------------------------------ | ------------------------------------------------- |
| 1️⃣  | Add new file under `/modules/` | GitHub Action updates manifest.json               |
| 2️⃣  | Push changes                   | Users load the new module automatically           |
| 3️⃣  | Go offline                     | Cached version loads                              |
| 4️⃣  | Set local override             | Local module replaces Git version (green [LOCAL]) |

---

**Maintainer:** [James Rhodes](https://github.com/James-Rhodes-G)
**Repository:** [gcAdminTools](https://github.com/James-Rhodes-G/gcAdminTools)
