
# ğŸ§­ Genesys Cloud Admin Tools Framework

A modular, auto-updating toolkit for Genesys Cloud administrators, powered by **Tampermonkey** and **GitHub**.

This framework lets you launch, manage, and update automation tools (like **Phone Site Migrator**, **Interaction Priority Updater**, etc.) from a single unified panel â€” with offline caching, full logging, and local override support for development.

---

## ğŸ§± Project Structure

```

genesyscloudtools/
â”œâ”€â”€ core.js                 â† Tampermonkey bootstrap (install once)
â”œâ”€â”€ launcher.js             â† Unified launcher UI (auto-loaded)
â”œâ”€â”€ manifest.json           â† Auto-generated by GitHub Actions
â”œâ”€â”€ modules/
â”‚   â”œâ”€â”€ phoneSiteMigrator.js
â”‚   â”œâ”€â”€ priorityUpdater.js
â”‚   â””â”€â”€ (future tools)
â””â”€â”€ .github/workflows/
â””â”€â”€ update-manifest.yml  â† Auto-generates manifest.json

```

---

## âš™ï¸ Installation

1. **Install [Tampermonkey](https://www.tampermonkey.net/)** in Chrome or Edge.  
2. Open the Tampermonkey dashboard â†’ **â€œCreate a new scriptâ€**.  
3. Paste the contents of [`core.js`](./genesyscloudtools/core.js).  
4. Click **Save (Ctrl + S)**.  
5. Load your Genesys Cloud environment (e.g. `https://apps.usw2.pure.cloud`) â€” the launcher appears after ~3 seconds.

---

## ğŸ§© How It Works

| Component | Description |
|------------|-------------|
| **core.js** | Loads the manifest from GitHub, injects the launcher and all tools dynamically. |
| **launcher.js** | Displays a floating panel with all available tools. |
| **modules/** | Each `.js` file represents an independent tool (e.g. Priority Updater). |
| **manifest.json** | Auto-generated list of modules for the core loader. |
| **GitHub Action** | Keeps the manifest automatically in sync with the modules folder. |

### Load Order
```

core.js  â†’  launcher.js  â†’  modules/*.js

```

---

## ğŸš€ Using the Tools

1. After the launcher loads, a floating panel appears in the bottom-right corner:  

```

âš™ï¸ Genesys Cloud Admin Tools
[Select a Tool â–¼]
[Launch Tool]

```

2. Choose a tool (e.g. â€œPhone Site Migratorâ€) â†’ **Launch Tool**.  
3. Each tool opens its own mini-panel with the relevant UI (Dry Run, Progress Bar, etc.).

---

## ğŸ§  Logging and Audit Files

All tools log actions and errors to both the **browser console** and downloadable files:

| File | Description |
|-------|-------------|
| `.log` | Text log with timestamps, run summary, and full error text. |
| `.csv` | Structured output (timestamps, results, messages). |

Example filenames:
```

myOrg_phoneMigration_live_20251015_1430.log
myOrg_priorityUpdate_dryrun_20251015_1430.csv

````

### Viewing Logs
* Open **DevTools â†’ Console** for live logs.  
* Log and CSV auto-download to your **Downloads** folder.  
* The last runâ€™s logs are also stored in memory:
  ```js
  window.lastGcLog
````

---

## ğŸ’¾ Caching & Offline Mode

Every tool loaded from GitHub is cached in the browserâ€™s `localStorage`.

| Scenario              | Behavior                                        |
| --------------------- | ----------------------------------------------- |
| Online                | Always fetches the newest version from GitHub.  |
| Offline / GitHub down | Falls back to the cached version automatically. |

### Clear cache manually

```js
gcAdminTools.clearCache();
```

---

## ğŸ§© Local Module Development (Overrides)

You can test new or modified modules **locally** without committing to GitHub.

### Example

1. Save your dev file, e.g.
   `C:\GenesysCloudTools\dev\priorityUpdater.js`
2. In the browser console:

   ```js
   gcAdminTools.setLocalOverride(
     "priorityUpdater.js",
     "file:///C:/GenesysCloudTools/dev/priorityUpdater.js"
   );
   ```
3. Refresh the page â€” the local module loads automatically.
4. The launcher shows a green **[LOCAL]** badge next to overridden tools.

### View or remove overrides

```js
gcAdminTools.getOverrides();   // list active overrides
gcAdminTools.clearOverrides(); // remove all overrides
```

**Notes**

* Enable **â€œAllow access to file URLsâ€** for Tampermonkey in browser settings.
* Overrides persist until cleared.

---

## ğŸ”§ Developer Utilities (console)

| Command                                     | Description                       |
| ------------------------------------------- | --------------------------------- |
| `gcAdminTools.listCache()`                  | Lists cached modules.             |
| `gcAdminTools.clearCache()`                 | Clears all cached Git modules.    |
| `gcAdminTools.getOverrides()`               | Shows active local overrides.     |
| `gcAdminTools.clearOverrides()`             | Clears all overrides.             |
| `gcAdminTools.setLocalOverride(file, path)` | Adds or updates a local override. |

---

## ğŸ§± GitHub Action â€” Auto Manifest Sync

`.github/workflows/update-manifest.yml` runs on every push:

* Scans `/modules/` for `.js` files
* Rebuilds `manifest.json`
* Commits and pushes changes automatically

You never need to edit `manifest.json` manually.

---

## âœ… Summary of Key Features

| Feature            | Description                                             |
| ------------------ | ------------------------------------------------------- |
| ğŸ”„ Auto-updating   | Always loads the latest tools from GitHub.              |
| ğŸ’¾ Caching         | Falls back to local cache if offline.                   |
| ğŸ§ª Dry Run         | Built into every tool by convention.                    |
| ğŸ§© Modular         | Add new tools by committing a `.js` file.               |
| ğŸªµ Logging         | Generates detailed `.log` + `.csv` files.               |
| ğŸ§  Local Overrides | Test local tools instantly (shows green [LOCAL] badge). |

---

## ğŸ§­ Example Workflow

| Step | Action                         | Outcome                                           |
| ---- | ------------------------------ | ------------------------------------------------- |
| 1ï¸âƒ£  | Add new file under `/modules/` | GitHub Action updates manifest.json               |
| 2ï¸âƒ£  | Push changes                   | Users load the new module automatically           |
| 3ï¸âƒ£  | Go offline                     | Cached version loads                              |
| 4ï¸âƒ£  | Set local override             | Local module replaces Git version (green [LOCAL]) |

---

**Maintainer:** [James Rhodes](https://github.com/James-Rhodes-G)
**Repository:** [gcAdminTools](https://github.com/James-Rhodes-G/gcAdminTools)
