# 🧭 Genesys Cloud Admin Tools Framework (v5.0)

A modular, auto-updating toolkit for Genesys Cloud administrators, built on **Tampermonkey** and **GitHub**.

This framework lets you launch, manage, and update custom admin tools (like **Phone Site Migrator** and **Interaction Priority Updater**) from a single unified UI panel — with full logging, offline caching, and local development overrides.

---

## 🧱 Project Structure

genesyscloudtools/
├── core.js ← Tampermonkey bootstrap loader (Git + SPA-safe)
├── helpers.js ← Shared library (UI, logging, progress, registry)
├── launcher.js ← Unified tool launcher (Alt+L / ⌘+⇧+L to reopen)
├── manifest.json ← Auto-generated by GitHub Actions
├── modules/
│ ├── phoneSiteMigrator.js
│ ├── priorityUpdater.js
│ └── (future tools)
└── .github/workflows/
└── update-manifest.yml ← Auto-generates manifest.json with helpers + modules

markdown
Copy code

---

## 🚀 New in Version 5.0

### 🔁 **Cross-Platform Hotkey**
- **Windows / Linux:** Press **Alt + L**
- **macOS:** Press **⌘ + ⇧ + L**
- Instantly reopens the **⚙️ Genesys Cloud Admin Tools** launcher panel.

### 🧩 **SPA-Safe Launcher**
- Automatically reappears after Genesys Cloud navigation (e.g., Admin → Architect → Routing).
- Detects route changes and rebuilds the launcher without refreshing the browser.

### 🧠 **Helpers Library (v1.2)**
All tools share the same UI, logging, and behavior through a centralized library:

| Feature | Description |
|----------|-------------|
| `createPanel(title)` | Creates a consistent floating panel (auto-styled) |
| `createProgress(container)` | Adds a reusable progress bar |
| `createLogger(orgInfo, toolName, mode)` | Builds standardized `.log` & `.csv` files |
| `waitForBody()` | Ensures the DOM is visible before injecting UI |
| `registerGcTool()` | Global tool registry used by the launcher |
| `dl()` | Safe file download helper (UTF-8 compatible) |

All panels are appended to `<html>` (not `<body>`) to avoid Genesys Cloud’s React DOM clipping.

### 🧩 **Dynamic Module Loading**
- `core.js` automatically loads the launcher and modules listed in `manifest.json`.
- New modules appear instantly after pushing them to GitHub (no Tampermonkey updates required).
- Local overrides allow developers to load files from their machine via:
  ```js
  gcAdminTools.setLocalOverride("priorityUpdater.js", "file:///C:/GenesysCloudTools/dev/priorityUpdater.js");
🪵 Unified Logging
Every tool produces a .log and .csv file:

php-template
Copy code
<OrgShort>_<ToolName>_<Mode>_YYYYMMDD_HHmm.log
<OrgShort>_<ToolName>_<Mode>_YYYYMMDD_HHmm.csv
Contains ISO timestamps, run type, item results, and full error text.

💾 Offline Caching
Files loaded from GitHub are cached in localStorage for offline use.

Commands available in DevTools:

js
Copy code
gcAdminTools.listCache();   // List cached files
gcAdminTools.clearCache();  // Clear cache
🧪 Dry-Run Mode
Every tool includes a Dry-Run option (checked by default).

Logs all actions without making API calls.

⚙️ Installation Steps
Install Tampermonkey

Chrome/Edge

Firefox

Create a new script
Paste the contents of core.js into Tampermonkey and save.

This is the only script users need to install manually.

Load Genesys Cloud

Wait ~3 seconds → the launcher appears (bottom-right).

Select a tool (e.g., “Phone Site Migrator”) and click Launch Tool.

🧭 Launcher Hotkeys
Platform	Keys	Action
Windows / Linux	Alt + L	Reopen launcher
macOS	⌘ + ⇧ + L	Reopen launcher
Console	window.buildLauncher()	Manual reopen (debug)

🧠 Developer Notes
🧩 Local Overrides
Load local development versions of modules:

js
Copy code
gcAdminTools.setLocalOverride(
  "priorityUpdater.js",
  "file:///C:/GenesysCloudTools/dev/priorityUpdater.js"
);
Clear them with:

js
Copy code
gcAdminTools.clearOverrides();
🧩 Local Logs
Logs automatically download to your browser’s Downloads folder.

The last run log is available at:

js
Copy code
window.lastGcLog
🧱 Auto Manifest Generation
The GitHub Action now:

Always includes helpers.js first in the manifest.

Auto-lists all .js tools in /modules/.

Commits and pushes an updated manifest.json after every change.

🧩 Version Summary
Component	Version	Description
core.js	v3.6	Git loader, SPA-safe, hotkey support
helpers.js	v1.2	Shared UI, logger, progress, registry, waitForBody()
launcher.js	v2.1	Uses shared helpers, globally exported, hotkey compatible
modules	v5.0	Standardized UI and logging (Phone Site Migrator, Priority Updater)
workflow	update-manifest.yml	Automatically builds manifest with helpers + modules

✅ Summary
Feature	Description
🔄 Auto-updates from GitHub	Always pulls the latest version of tools
🧩 Shared UI Library	Consistent styling and logging for all tools
💾 Offline cache	Works even when GitHub is unreachable
🧠 SPA persistence	Launcher auto-reappears on navigation
⌨️ Keyboard hotkey	Alt + L / ⌘ + ⇧ + L to reopen launcher
🧪 Dry-run	Safe testing mode enabled by default
🪵 Log & CSV export	Full audit trail per tool run